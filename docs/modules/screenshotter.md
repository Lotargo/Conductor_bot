# Модуль Screenshotter

## Обзор

Модуль `Screenshotter` отвечает за создание "снимков экрана" для заданного `chat_id`. В текущей реализации он имитирует этот процесс, создавая и кодируя данные в формат base64, а затем отправляя их в Kafka для дальнейшей обработки.

## Функциональность

Основная задача модуля — сгенерировать событие, содержащее снимок экрана, и отправить его в топик Kafka `KAFKA_TOPIC_NOTIFICATIONS`.

Ключевые операции:
1.  Получает `chat_id` от модуля `Listener` через вызов функции `trigger_screenshot`.
2.  Имитирует создание снимка экрана, используя `chat_id` и текущее время для генерации уникальных данных.
3.  Кодирует сгенерированные данные в строку base64.
4.  Формирует сообщение в формате JSON, содержащее `chat_id`, временную метку и изображение в base64.
5.  Отправляет это сообщение в Kafka с помощью `MockKafkaProducer`.

## Формат сообщения в Kafka

Сообщения, отправляемые в топик `KAFKA_TOPIC_NOTIFICATIONS`, имеют следующую структуру:

```json
{
  "chat_id": "some_unique_chat_id",
  "timestamp": 1678886400.0,
  "screenshot_base64": "c2NyZWVuc2hvdF9mb3Jfc29tZV91bmlxdWVfY2hhdF9pZF8xNjc4ODg2NDAwLjA="
}
```

**Поля:**
*   `chat_id` (string): Уникальный идентификатор чата.
*   `timestamp` (float): Временная метка создания снимка.
*   `screenshot_base64` (string): Изображение, закодированное в base64.

## Пример использования

Модуль не запускается напрямую, а используется другим компонентом (`Listener`), который вызывает его функцию.

```python
# Пример вызова из другого модуля
from conductor.screenshotter.main import trigger_screenshot

# Инициировать создание снимка экрана для указанного чата
trigger_screenshot("user123_chat456")
```