<svg width="900" height="500" viewBox="0 0 900 500" xmlns="http://www.w3.org/2000/svg" style="background-color: #1a1a1a; color: #d0d0d0; font-family: 'Segoe UI', sans-serif;">
    <defs>
        <marker id="arrowhead" markerWidth="10" markerHeight="7" refX="0" refY="3.5" orient="auto">
            <polygon points="0 0, 10 3.5, 0 7" fill="#E0115F"/>
        </marker>
        <style>
            .box { fill: #2a2a2a; stroke: #8B0000; stroke-width: 1; rx: 5; }
            .title { font-size: 16px; font-weight: bold; fill: #E0115F; }
            .text { font-size: 12px; fill: #d0d0d0; }
            .line { stroke: #E0115F; stroke-width: 1.5; marker-end: url(#arrowhead); }
            .flow-dot { fill: #E0115F; r: 3; }
        </style>
    </defs>

    <!-- Title -->
    <text x="450" y="30" text-anchor="middle" class="title" style="font-size: 20px;">Архитектура Компонентов Sentio Engine</text>

    <!-- Components -->
    <!-- LLM Parser -->
    <g transform="translate(50, 100)">
        <rect width="200" height="80" class="box"/>
        <text x="100" y="25" text-anchor="middle" class="title">LLM-Парсер</text>
        <text x="100" y="50" text-anchor="middle" class="text">Анализ текста</text>
        <text x="100" y="65" text-anchor="middle" class="text">Создание Stimulus</text>
    </g>

    <!-- Sentio Engine -->
    <g transform="translate(350, 200)">
        <rect width="200" height="120" class="box" style="stroke-width: 2;"/>
        <text x="100" y="25" text-anchor="middle" class="title">Sentio Engine</text>
        <text x="100" y="50" text-anchor="middle" class="text">API (FastAPI)</text>
        <text x="100" y="65" text-anchor="middle" class="text">Ядро</text>
        <text x="100" y="80" text-anchor="middle" class="text">Конфигурация</text>
        <text x="100" y="95" text-anchor="middle" class="text">База данных (SQLite)</text>
    </g>

    <!-- LLM Generator -->
    <g transform="translate(650, 100)">
        <rect width="200" height="80" class="box"/>
        <text x="100" y="25" text-anchor="middle" class="title">LLM-Генератор</text>
        <text x="100" y="50" text-anchor="middle" class="text">Получение Report</text>
        <text x="100" y="65" text-anchor="middle" class="text">Генерация ответа</text>
    </g>

    <!-- User App -->
    <g transform="translate(350, 80)">
        <rect width="200" height="60" class="box"/>
        <text x="100" y="25" text-anchor="middle" class="title">Ваше Приложение</text>
        <text x="100" y="45" text-anchor="middle" class="text">(Оркестратор)</text>
    </g>

    <!-- Lines -->
    <path d="M450,140 v 60" class="line"/> <!-- App -> Engine -->
    <path d="M250,140 h 100" class="line"/> <!-- Parser -> App -->
    <path d="M550,140 h 100" class="line"/> <!-- App -> Generator -->

    <!-- Animation Dots -->
    <!-- Parser -> App -> Engine -->
    <circle class="flow-dot">
        <animateMotion path="M150,140 h 200 v 100" dur="4s" begin="0s" repeatCount="indefinite" />
    </circle>
    <!-- Engine -> App -> Generator -->
    <circle class="flow-dot">
        <animateMotion path="M450,220 v -80 h 200" dur="4s" begin="2s" repeatCount="indefinite" />
    </circle>
</svg>
